# Проект: "Продвинутый SQL"

## Описание:
Учебный проект, в котором решено 20 задач - 20 SQL-запросов на формирование выгрузок из базы данных. Основной акцент в задачах сделан на применении **агрегирующих и ранжирующих оконнных функций, а также оконных функций смещения, подзапросов и общих табличных выражений**.

## Инструменты:
**PostgreSQL**

## Данные:
База данных `stackoverflow`, к которой выполнялись запросы, представляет собой набор таблиц, содержащих сведенья о вопросах и ответах о программировании на ресурсе **StackOverflow**.

**ER-диаграмма базы данных `stackoverflow`:**

<img width="2000" alt="ER-diagramm" src="https://github.com/alpegvo/alpegvo_yp/assets/136235473/2c7ae61f-d789-49d3-8931-24fe8ed9a6cf">

**Описание таблиц и полей базы данных `stackoverflow`:**

1. **Таблица `stackoverflow.badges`** - хранит информацию о значках, которые присуждаются пользователям ресурса за разные достижения:

    `id` - идентификатор значка, первичный ключ таблицы

    `name` - название значка

    `user_id` - идентификатор пользователя, которому присвоили значок, внешний ключ, отсылающий к таблице users

    `creation_date` -	дата присвоения значка

2. **Таблица `stackoverflow.post_types`** - содержит информацию о типе поста:

     `id` -	идентификатор поста, первичный ключ таблицы
   
     `type`	- тип поста: `Question` - пост с вопросом, `Answer` - пост с ответом
   
3. **Таблица `stackoverflow.posts`** - хранит информацию о постах:

     `id` -	идентификатор поста, первичный ключ таблицы
   
     `title` -	заголовок поста

      `creation_date` -	дата создания поста
   
      `favorites_count` -	число, которое показывает, сколько раз пост добавили в «Закладки»
   
      `last_activity_date` -	дата последнего действия в посте, например комментария
   
      `last_edit_date` -	дата последнего изменения поста
   
      `user_id` -	идентификатор пользователя, который создал пост
   
      `parent_id` - 	если пост написали в ответ на другую публикацию, в это поле попадёт идентификатор поста с вопросом

      `post_type_id` - 	идентификатор типа поста
   
      `score` - количество очков, которое набрал пост

   `view_count` - число просмотров

5. **Таблица `stackoverflow.users`** - содержит информацию о пользователях:

      `id` -	идентификатор пользователя
   
      `creation_date` -	дата регистрации пользователя
   
      `display_name` - 	имя пользователя
   
      `last_access_date` -	дата последнего входа

      `location` -	местоположение

      `reputation` -	очки репутации
   
      `views` - 	число просмотров профиля пользователя

6. **Таблица `stackoverflow.vote_types`** - содержит информацию о типах голосов за посты:
   
   `id`	- идентификатор типа голоса
   
   `name` - название метки. Метки бывают следующих типов:
   
   1. `UpMod` - метка постов с вопросами или ответами, которые пользователи посчитали уместными и полезными
   
   2. `DownMod` - такую отметку получают посты, которые показались пользователям наименее полезными
   
   3. `Close` -  метка от опытных пользователей сервиса. Ставится если заданный вопрос нужно доработать или он вообще не подходит для платформы

   4. `Offensive` - такую метку могут поставить, если пользователь ответил на вопрос в грубой и оскорбительной манере, например, указав на неопытность автора поста
   
   5. `Spam` - такую метку ставят в случае, если пост пользователя выглядит как рекламный
   
8. **Таблица `stackoverflow.votes`** - информация о голосах за посты:

   `id` -	идентификатор голоса
   
   `post_id` -	идентификатор поста
   
   `user_id` -	идентификатор пользователя, который поставил посту голос
   
   `bounty_amount` - cумма вознаграждения, которое назначают, чтобы привлечь внимание к посту
   
   `vote_type_id` - 	идентификатор типа голоса
   
   `creation_date` -	дата назначения голоса
   
     

